{% extends 'core/base.html' %}

{% load static %}

{% block title %}Escoger agente{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'crear/css/crear.css' %}">

<h1>Crear nueva póliza</h1>
<div class="card">
    <div class="card-body">
        <h2 class="card-title">Cliente</h2>
        <div id="contenedorDatos" class="mt-3">
            <div>
                <h4 class="card-subtitle mb-2 text-muted">Datos generales</h4>
                <p><strong>Nombre: </strong>{{ cliente.nombre }}</p>
                <p><strong>Apellido paterno: </strong>{{ cliente.appaterno }}</p>
                <p><strong>Apellido materno: </strong>{{ cliente.apmaterno }}</p>
                <p><strong>Fecha de nacimiento: </strong>{{ cliente.fechanacimiento }}</p>
                <p><strong>RFC: </strong>{{ cliente.rfc }}</p>
                <p><strong>CURP: </strong>{{ cliente.curp }}</p>
                <p><strong>Género: </strong>{{ cliente.generoid }}</p>
            </div>
            <div>
                <h4 class="card-subtitle mb-2 text-muted">Datos de contacto</h4>
                <p><strong>Celular: </strong>{{ cliente.celular }}890</p>
                <p><strong>Teléfono: </strong>{{ cliente.telefono }}</p>
                <p><strong>Correo: </strong>{{ cliente.correo }}</p>
            </div>
            <div>
                <h4 class="card-subtitle mb-2 text-muted">Datos de vivienda</h4>
                <p><strong>Código postal: </strong>{{ cliente.codigopostal }}</p>
                <p><strong>País: </strong>{{ cliente.pais }}</p>
                <p><strong>Estado: </strong>{{ cliente.estado }}</p>
                <p><strong>Municipio: </strong>{{ cliente.municipio }}</p>
                <p><strong>Ciudad: </strong>{{ cliente.ciudad }}</p>
                <p><strong>Colonia: </strong>{{ cliente.colonia }}</p>
                <p><strong>Calle: </strong>{{ cliente.calle }}</p>
                <p><strong>Número de casa: </strong>{{ cliente.numcasa }}</p>
            </div>
        </div>
    </div>
</div>
<div class="card mt-3">
    <div class="card-body">
        <h2 class="card-title">Agente</h2>
        <div class="mt-3">
            <form class="custom-form" method="get">
                <button class="custom-form__button">
                    <svg width="17" height="16" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"
                        aria-labelledby="search">
                        <path d="M7.667 12.667A5.333 5.333 0 107.667 2a5.333 5.333 0 000 10.667zM14.334 14l-2.9-2.9"
                            stroke="currentColor" stroke-width="1.333" stroke-linecap="round" stroke-linejoin="round">
                        </path>
                    </svg>
                </button>
                <input class="custom-form__input" placeholder="Buscar agente" required type="text" name="q" value="{{ request.GET.q }}">
                <button class="custom-form__reset" type="reset">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </form>
        </div>
        <table class="table table-hover mt-3">
            <thead>
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Apellido Paterno</th>
                    <th scope="col">Apellido Materno</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody id="contenido">
                {% for agente in agentes %}
                    <tr>
                        <th scope="row">{{agente.id}}</th>
                        <td>{{agente.nombre}}</td>
                        <td>{{agente.apellidopaterno}}</td>
                        <td>{{agente.apellidomaterno}}</td>
                        <td><a href="{% url 'crear_aseguradora' cliente.id agente.id %}" type="button" class="btn">Seleccionar</a></td>
                    </tr>    
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}